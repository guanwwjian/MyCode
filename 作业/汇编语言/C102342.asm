SSEG SEGMENT STACK
	STACK DW 100 DUP(0)
	TOS DW 0
SSEG ENDS

DSEG SEGMENT
	NUM DB '0','1','2','3','4','5','6','7','8','9'
	DATA DW 311,312,313,314,156,453,489,245,584,111,112
	LEN EQU ($-DATA)/2
	ANS DB 10 DUP('$')
DSEG ENDS

ESEG SEGMENT

ESEG ENDS

CSEG SEGMENT
	ASSUME SS:SSEG,CS:CSEG,ES:ESEG,DS:DSEG
MAIN PROC FAR
	MOV AX, SSEG
	MOV SS, AX
	LEA SP,TOS
	PUSH DS
	XOR AX, AX
	PUSH AX
	MOV AX, DSEG
	MOV DS, AX
	MOV AX, ESEG
	MOV ES, AX
	MOV CX, LEN
	MOV BX, 0
	MOV AX, 65535
WHILE1:	MOV DX, DATA[BX]
	TEST DX, 1
	JNZ CONTI1
	CMP AX, DX
	JBE CONTI1
	MOV AX, DX
CONTI1:	ADD BX, 2
	LOOP WHILE1
	MOV BX, 0
WHILE2:	MOV DX, 0
	MOV CX, 10
	DIV CX
	PUSH BX
	MOV BX, DX
	MOV CL, NUM[BX]
	POP BX
	MOV ANS[BX], CL
	INC BX
	CMP AX, 0
	JNZ WHILE2
WHILE3:	DEC BX
	MOV AH, 2
	MOV DL, ANS[BX]
	INT 21H
	CMP BX, 0
	JNZ WHILE3
	RET
MAIN ENDP
CSEG ENDS
	END MAIN